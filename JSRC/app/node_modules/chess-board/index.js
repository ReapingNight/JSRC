//Method that moves a piece to a new position
function move(board)
{
    return function(posOld, posNew){
        let piece = find(board, "position", posOld);
        //Check your piece
        if(piece !== null)
        {
            let temp = [];

            //Check if space is occupied

            piece.position = posNew;

            temp.push({color: piece.color, type: piece.type, position: piece.position, posOld: posOld});
            return temp;
        }

        return null;
    };
}

//--Miscellaneous
//Find first object in array by key
function find(array, key, value)
{
    for(let ii = 0; ii < array.length; ii++)
    {
        if(array[ii][key] == value)
        {
            return array[ii];
        }
    }

    return null;
}



module.exports = function(){
    return {
        board: [
            {piece: new ChessPiece(0,1), position: 63},
           // {color: 0, type:1, position: 63},
            {color: 0, type:2, position: 62},
            {color: 0, type:3, position: 61},
            {color: 0, type:5, position: 60},
            {color: 0, type:4, position: 59},
            {color: 0, type:3, position: 58},
            {color: 0, type:2, position: 57},
            {color: 0, type:1, position: 56},
            {color: 0, type:0, position: 55},
            {color: 0, type:0, position: 54},
            {color: 0, type:0, position: 53},
            {color: 0, type:0, position: 52},
            {color: 0, type:0, position: 51},
            {color: 0, type:0, position: 50},
            {color: 0, type:0, position: 49},
            {color: 0, type:0, position: 48},
    
            {color: 1, type:1, position: 0},
            {color: 1, type:2, position: 1},
            {color: 1, type:3, position: 2},
            {color: 1, type:4, position: 3},
            {color: 1, type:5, position: 4},
            {color: 1, type:3, position: 5},
            {color: 1, type:2, position: 6},
            {color: 1, type:1, position: 7},
            {color: 1, type:0, position: 8},
            {color: 1, type:0, position: 9},
            {color: 1, type:0, position: 10},
            {color: 1, type:0, position: 11},
            {color: 1, type:0, position: 12},
            {color: 1, type:0, position: 13},
            {color: 1, type:0, position: 14},
            {color: 1, type:0, position: 15}
        ],

        move: move
    }
};